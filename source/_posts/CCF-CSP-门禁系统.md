---
title: CCF-CSP 门禁系统
tags:
  - CCF-CSP
  - 教女朋友学Python
categories:
  - Algorithm
  - CCF-CSP
abbrlink: 27536
date: 2018-09-21 20:14:56
---

<center>CCF-CSP 201412-1 门禁系统 题解</center>

<!--more-->

#### 问题描述

```
试题编号：201412-1
试题名称：门禁系统
时间限制：1.0s
内存限制：256.0MB

问题描述
    涛涛最近要负责图书馆的管理工作，需要记录下每天读者的到访情况。每位读者有一个编号，每条记录用读者的编号来表示。给出读者的来访记录，请问每一条记录中的读者是第几次出现。

输入格式
    输入的第一行包含一个整数n，表示涛涛的记录条数。
    第二行包含n个整数，依次表示涛涛的记录中每位读者的编号。

输出格式
    输出一行，包含n个整数，由空格分隔，依次表示每条记录中的读者编号是第几次出现。

样例输入
    5
    1 2 1 1 3

样例输出
    1 1 2 3 1

评测用例规模与约定
    1≤n≤1,000，读者的编号为不超过n的正整数。
```

#### 题解1

　　采用数组来记录，创建一个与输入规模同样大小的数组rst，初始化为0，从前面开始扫描，每个数与其自身及其后面的数比较，然后借助变量 `count` 来实现计数看这个数出现了多少次，分别记录到计数数组中去：

　　输入：`1 2 1 1 3` ，`rst` 数组初始化为 `0 0 0 0 0 `

　　首先，`lst[0]` 与自身和其后的数比较，即`1与1，1与2，1与1，1与1，1与3` 比较，若相等，则计数加1，记录到记录数组 `rst` 中，则第一次外层循环执行完后，`rst` 为：`1 0 2 3 0`，即1号读者的记录全部处理完成。

　　然后，`lst[1]` 与自身和其后的数比较，即`2与2，2与1，2与1，2与3` 比较，此次完成后，`rst` 为 `1 1 2 3 0`

　　然后，`rst[2] 和 rst[3]` 都不为0 ， 即已经记录过，直接跳过`lst[2]` 和 `lst[3]`。

　　最后，`lst[4]` 与其自身比较，即 `3与3` 比较，`rst` 为 `1 1 2 3 1` ，将 `rst` 输出即可。

```python
n = int(input())  # 记录条数
lst = list(map(int, input().split()))  # 记录中每位读者的编号
rst = [0] * n  # 初始化计数数组
for i in range(n):
    if rst[i] != 0:  # 跳过已经记录的值
        continue
    count = 0  # 重置计数值
    for j in range(i, n):  # 从 i 开始比较
        if lst[i] == lst[j]:  # 计数
            count += 1
            rst[j] = count

for i in rst:  # 输出结果
    print(i, end=' ')
```

#### 题解2

　　上一种方法是每次处理一个读者的所有记录，而这一种方法则是通过记录的前后关系进行统计，将 `rst` 数组初始化为 1 ，每个数与其后的数进行比较，若相等则将记录数组的对应元素值加1，扫完整个数组就完成了。

　　输入：`1 2 1 1 3` ，`rst` 数组初始化为 `[1 1 1 1 1]`

　　首先，`lst[0]` 与其后的数比较，即 `1与2，1与1，1与1，1与3` 比较，`rst` 为 `[1, 1, 2, 2, 1]`

　　然后，`lst[1]` 与其后的数比较，即 `2与1，2与1，2与3` 比较，`rst` 为 `[1, 1, 2, 2, 1]`

　　然后，`lst[2]` 与其后的数比较，即 `1与1，1与3` 比较，`rst` 为 `[1, 1, 2, 3, 1]`

　　最后，`lst[3]` 与其后的数比较，即 `1与3` 比较，`rst` 为 `[1, 1, 2, 3, 1]`

```python
n = int(input())  # 记录条数
lst = list(map(int, input().split()))  # 记录中每位读者的编号
rst = [1] * n  # 初始化计数数组为1
for i in range(n):
    for j in range(i + 1, n):  # 从 i 后面的数开始比较
        if (lst[j] == lst[i]):  # 计数
            rst[j] += 1
for i in rst:  # 输出结果
    print(i, end=" ")
```

#### 题解3

　　还有一种比较巧妙的方法，用一个计数数组来记录每个读者的到访次数，这个数组的下标即为读者编号（因此，数组大小必须大于题目所给的1000），然后检查所有记录，每检查一条记录就将读者编号为下标的对应的数组元素值加1，并且直接输出，依次检查每一条记录即可。

　　输入：`1 2 1 1 3` 

　　首先，对于`lst[0]`，即 `rec[1]` 的值加1，记录为1，直接输出，输出列表为 `1`

　　然后，对于`lst[1]`，即 `rec[2]` 的值加1，记录为1，直接输出，输出列表为 `1 1`

　　然后，对于`lst[2]`，即 `rec[1]` 的值加1，记录为2，直接输出，输出列表为 `1 1 2`

　　然后，对于`lst[3]`，即 `rec[1]` 的值加1，记录为3，直接输出，输出列表为 `1 1 2 3`

　　最后，对于`lst[4]`，即 `rec[3]` 的值加1，记录为1，直接输出，输出列表为 `1 1 2 3 1`

```python
n = int(input())  # 记录条数
lst = list(map(int, input().split()))  # 记录中每位读者的编号
rec = [0] * 1004  # 记录数组
for i in lst:
    rec[i] += 1  # 计数
    print(rec[i], end=' ')  # 每次计数后直接输出
```

