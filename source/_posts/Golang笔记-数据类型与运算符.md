---
title: Golang笔记-数据类型与运算符
tags: Golang
categories:
  - Programming language
  - Golang
abbrlink: 43128
date: 2018-08-22 16:21:40
---

<center>Golang 数据类型与运算符学习。</center>

<!--more-->

#### 基本数据类型

　　Go 语言基本数据类型分为数字、字符串和布尔型，以下是具体介绍：

- **布尔型：bool**
- - 长度：1字节
  - 取值范围：true, false
  - 注意事项：不可以用数字代表true或false
- **整型：int/uint**
- - 根据运行程序所在的操作系统类型所决定的，可能为32或64位。int 型是计算最快的一种类型。
- **8位整型：int8/uint8**
- - 长度：1字节
  - 取值范围：-128~127/0~255
  - 字节型：byte（uint8别名）
- **16位整型：int16/uint16**
- - 长度：2字节
  - 取值范围：-32768~32767/0~65535
- **32位整型：int32（rune）/uint32**
- - 长度：4字节
  - 取值范围：-2^32/2~2^32/2-1/0~2^32-1
- **64位整型：int64/uint64**
- - 长度：8字节
  - 取值范围：-2^64/2~2^64/2-1/0~2^64-1
- **浮点型：float32/float64**
- - 长度：4/8字节
  - 小数位：float32 精确到小数点后 7 位，float64 精确到小数点后 15 位。由于精确度的缘故，你在使用 `==` 或者 `!=` 来比较浮点数时应当非常小心。
- **复数：complex64/complex128**
- - 长度：8/16字节
- **足够保存指针的 32 位或 64 位整数型：uintpt**
- **字符串：string**



　　**类型零值**：零值并不等于空值，而是当变量被声明为某种类型后的默认值，通常情况下值类型的默认值为0，`bool` 为 `false`，`string` 为空字符串



**格式化说明符**

　　格式化输出时需要根据数据类型指定输出格式，Go 语言中使用的格式化说明符有：

- **布尔值**
  - `%t`：true 或 false。
- **普通值**：
  - `%v`：相应值的默认格式。
  - `%T`：相应值的类型的Go语法表示。
- **整数**
  - `%b`：二进制表示
  - `%d`：十进制表示
  - `%o`：八进制表示
  - `%q`：单引号围绕的字符字面值，由Go语法安全地转义
  - `%x`：十六进制表示，字母形式为小写 a-f
  - `%X`：十六进制表示，字母形式为大写 A-F  
- **浮点数与复数**
  - `%b`：无小数部分的，指数为二的幂的科学计数法，与 strconv.FormatFloat的 'b' 转换格式一致。例如 -123456p-78
  - `%e`：科学计数法，例如 -1234.456e+78                         
  - `%E`：科学计数法，例如 -1234.456E+78 
  - `%f`：有小数点而无指数，例如 123.456
  - `%g`：根据情况选择 %e 或 %f 以产生更紧凑的（无末尾的0）输出
  - `%G`：根据情况选择 %E 或 %f 以产生更紧凑的（无末尾的0）输出  
- **字符串和字节切片**
  - `%s`：输出字符串表示（string类型或[]byte) 
  - `%q`：双引号围绕的字符串，由Go语法安全地转义     
  - `%x`：十六进制，小写字母，每字节两个字符      
  - `%X`：十六进制，大写字母，每字节两个字符
- **指针**
  - `%p`：十六进制表示，前缀 0x

#### 复合数据类型

　　Go 语言中的复合数据类型以下几种，将在后续博客中详细介绍。

- **值类型**：`array`、`struct`
- **引用类型**：`slice`、`map`、`chan`
- **接口类型**：`interface`
- **JSON、文本等**

#### 算术运算符

　　常见可用于整数和浮点数的二元运算符有 `+`、`-`、`*` 和 `/`。对于整数运算而言，结果依旧为整数：

```go
9 / 4 -> 2
```

　　取余运算符 `%` 只能作用于整数：

```
9 % 4 -> 1
```

　　可以将语句 `b = b + a` 简写为 `b+=a`，同样的写法也可用于 `-=`、`*=`、`/=`、`%=`。对于整数和浮点数，也可以使用一元运算符 `++`（递增）和 `--`（递减），但只能用于后缀。并且，带有 `++` 和 `--` 的只能作为语句，而非表达式。

```go
i++ -> i += 1 -> i = i + 1
n := i++	// 无效
```

#### 逻辑运算符

　　Go 中拥有以下逻辑运算符：`==`、`!=`、`<`、`<=`、`>`、`>=`。它们之所以被称为逻辑运算符是因为它们的运算结果总是为布尔值 `bool`。

```go
10 > 5 -> true
```

#### 位运算符

　　位运算只能用于整数类型的变量，且需当它们拥有等长位模式时。

- 按位与 `&`

```go
1 & 1 -> 1
1 & 0 -> 0
0 & 1 -> 0
0 & 0 -> 0
```

- 按位或 `|`

```go
1 | 1 -> 1
1 | 0 -> 1
0 | 1 -> 1
0 | 0 -> 0
```

- 按位异或 `^`

```go
1 ^ 1 -> 0
1 ^ 0 -> 1
0 ^ 1 -> 1
0 ^ 0 -> 0
```

- 按位置零 `&^`：将运算符左边数据相异的位保留，相同位清零。

```go
0 &^ 0 -> 0
0 &^ 1 -> 0
1 &^ 0 -> 1
1 &^ 1 -> 0
```

- 按位补足 `^`运算符与异或运算符一同使用

```go
^1 -> 0	// 作为一元运算符，即按位取反
1 ^ 0 -> 1 // 作为二元运算符，即按位异或
```

- 位左移 `<<` ，向左移动 n 位，右侧空白部分使用 0 填充

```go
 1 << 10 // 等于 1 KB
 1 << 20 // 等于 1 MB
 1 << 30 // 等于 1 GB
```

- 位右移 `>>`，向右移动 n 位，左侧空白部分使用 0 填充

```go
1 >> 2 -> 001 // 二进制
```

#### 优先级

　　有些运算符拥有较高的优先级，二元运算符的运算方向均是从左至右。下表列出了所有运算符以及它们的优先级，由上至下代表优先级由高到低：

```
优先级 	   运算符
 7 		^ !
 6 		* / % << >> & &^
 5 		+ - | ^
 4 		== != < <= >= >
 3 		<-
 2 		&&
 1 		||
```

